---
title: "Analyzing The National's Musical Trajectory from 2001 to 2023"
subtitle: "A Spotify Data Analysis of Danceability, Energy, Instrumentalness, and Valence Trends"
author: 
  - Andrew Goh, Yisu Hou, Jiwon Choi, Xiaolu Ji
thanks: "Code and data are available at: https://github.com/mushroomcarbon/Spotify."
date: today
date-format: long
abstract: "This study analyzes the evolution of musical attributes in The National’s discography, focusing on danceability, energy, instrumentalness, and valence across their album releases. Using data from Spotify’s API, we analyze how these attributes have fluctuated over the years and visualize their progression through a series of plots. Our findings suggest that energy and instrumentalness exhibit more variability, while danceability and valence have followed relatively smoother trajectories. These insights contribute to the growing field of music analytics by offering a deeper understanding of the artistic and sonic evolution of a famous band within the indie rock genre."
format: pdf
number-sections: true
bibliography: references.bib
header-includes:
  - \usepackage{placeins}
---


# Introduction

Write Introduction here

# Data {#sec-mydatasection}

The R programming language [@talia], dplyr [@dplyr], tidyverse[@thereferencecanbewhatever] were used to download, modify, and analyse data obtained from Spotify [@spotify_api] using the SpotifyR package [@spotifyr] regarding music from The National [@the_national]. Styler [@styler] was used to style the code.


```{r}
#| label: fig-dance
#| fig-cap: Danceability Over Album Release Years
#| echo: false
#| warning: false
#| message: false

library(tidyverse)
library(dplyr)
library(here)

# Load the data
data <- read_rds(here::here("data/analysis_data/the_national_cleaned.rds"))

# Plot 1: danceability over time
ggplot(data, aes(x = album_release_year, y = danceability)) +
  geom_point(alpha = 0.7, color = "black") +
  stat_summary(fun = mean, geom = "line", color = "green", size = 1.2) +
  labs(
    x = "Album Release Year",
    y = "Danceability"
  ) +
  theme_minimal()
```

```{r}
#| label: fig-energy
#| fig-cap: Energy Over Album Release Years
#| echo: false
#| warning: false
#| message: false

# Plot 2: energy over time
ggplot(data, aes(x = album_release_year, y = energy)) +
  geom_point(alpha = 0.7, color = "black") +
  stat_summary(fun = mean, geom = "line", color = "blue", size = 1.2) +
  labs(
    x = "Album Release Year",
    y = "Energy"
  ) +
  theme_minimal()
```

```{r}
#| label: fig-instrumental
#| fig-cap: Instrumentalness Over Album Release Years
#| echo: false
#| warning: false
#| message: false

# Plot 3: instrumentalness over time
ggplot(data, aes(x = album_release_year, y = instrumentalness)) +
  geom_point(alpha = 0.7, color = "black") +
  stat_summary(fun = mean, geom = "line", color = "red", size = 1.2) +
  labs(
    x = "Album Release Year",
    y = "Instrumentalness"
  ) +
  theme_minimal()
```

```{r}
#| label: fig-valence
#| fig-cap: Valence Over Album Release Years
#| echo: false
#| warning: false
#| message: false

# Plot 4: valence over time
ggplot(data, aes(x = album_release_year, y = valence)) +
  geom_point(alpha = 0.7, color = "black") +
  stat_summary(fun = mean, geom = "line", color = "orange", size = 1.2) +
  labs(
    x = "Album Release Year",
    y = "Valence"
  ) +
  theme_minimal()
```
\FloatBarrier

\newpage

# References